{
  "$ref": "#/definitions/CrisisCleanupConfig",
  "definitions": {
    "ApiConfig": {
      "type": "object",
      "properties": {
        "api": {
          "type": "object",
          "properties": {
            "config": {
              "type": "object",
              "properties": {
                "celery": {
                  "type": "object",
                  "properties": {
                    "alwaysEager": {
                      "type": "boolean",
                      "default": false,
                      "description": "Run celery tasks synchronously"
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "django": {
                  "type": "object",
                  "properties": {
                    "accountAllowRegistration": {
                      "type": "boolean",
                      "default": true
                    },
                    "allowedHosts": {
                      "anyOf": [
                        {
                          "allOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          ]
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "default": [
                        "*"
                      ],
                      "description": "Django ALLOWED_HOSTS"
                    },
                    "csrfCookieSecure": {
                      "type": "boolean",
                      "default": true,
                      "description": "Secure CSRF cookie"
                    },
                    "secureSslRedirect": {
                      "type": "boolean",
                      "default": false
                    },
                    "sessionCookieSecure": {
                      "type": "boolean",
                      "default": true
                    },
                    "emailBackend": {
                      "type": "string",
                      "default": "django.core.mail.backends.dummy.EmailBackend",
                      "description": "Django EMAIL_BACKEND python import path."
                    },
                    "settingsModule": {
                      "type": "string",
                      "default": "config.settings.local",
                      "description": "Django settings module"
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "elasticSearch": {
                  "type": "object",
                  "properties": {
                    "host": {
                      "type": "string",
                      "default": ""
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "newRelic": {
                  "type": "object",
                  "properties": {
                    "configFile": {
                      "type": "string",
                      "default": "/app/newrelic.ini",
                      "description": "Path to newrelic.ini file"
                    },
                    "environment": {
                      "type": "string",
                      "enum": [
                        "local",
                        "development",
                        "staging",
                        "production",
                        "test"
                      ]
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "ccu": {
                  "type": "object",
                  "properties": {
                    "newrelicDisable": {
                      "type": "boolean",
                      "default": true,
                      "description": "Disable new relic integration."
                    },
                    "webUrl": {
                      "type": "string",
                      "format": "uri",
                      "default": "https://local.crisiscleanup.io"
                    },
                    "apiUrl": {
                      "type": "string",
                      "format": "uri",
                      "default": "https://api.local.crisiscleanup.io"
                    },
                    "forceDocker": {
                      "type": "boolean",
                      "default": true,
                      "description": "Force assumption of running in docker."
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "sentry": {
                  "type": "object",
                  "properties": {
                    "traceExcludeUrls": {
                      "anyOf": [
                        {
                          "allOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          ]
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "default": [
                        "/",
                        "/health",
                        "/health/",
                        "/ws/health",
                        "/ws/health/",
                        "/version",
                        "/version/",
                        "/{var}health/",
                        "/{var}version/"
                      ],
                      "description": "Sentry trace names to exclude."
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "connect": {
                  "type": "object",
                  "properties": {
                    "instanceId": {
                      "type": "string",
                      "default": ""
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "phone": {
                  "type": "object",
                  "properties": {
                    "checkTimezone": {
                      "type": "boolean",
                      "default": true,
                      "description": "Enable phone system timezone guardrails."
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                }
              },
              "additionalProperties": false,
              "default": {}
            },
            "secrets": {
              "type": "object",
              "properties": {
                "postgres": {
                  "type": "object",
                  "properties": {
                    "dbname": {
                      "type": "string"
                    },
                    "host": {
                      "type": "string"
                    },
                    "password": {
                      "type": "string"
                    },
                    "user": {
                      "type": "string"
                    },
                    "port": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "dbname"
                  ],
                  "additionalProperties": false,
                  "default": {
                    "dbname": "crisiscleanup_local",
                    "port": "5432"
                  }
                },
                "redis": {
                  "type": "object",
                  "properties": {
                    "host": {
                      "type": "string"
                    },
                    "hostReplicas": {
                      "anyOf": [
                        {
                          "allOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          ]
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "default": []
                    }
                  },
                  "required": [
                    "host"
                  ],
                  "additionalProperties": false,
                  "default": {
                    "host": "172.17.0.1"
                  }
                },
                "jwt": {
                  "type": "object",
                  "properties": {
                    "publicKey": {
                      "type": "string"
                    },
                    "privateKey": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "publicKey",
                    "privateKey"
                  ],
                  "additionalProperties": false
                },
                "zendesk": {
                  "type": "object",
                  "properties": {
                    "apiKey": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "apiKey"
                  ],
                  "additionalProperties": false
                },
                "connectFirst": {
                  "type": "object",
                  "properties": {
                    "password": {
                      "type": "string",
                      "default": ""
                    }
                  },
                  "additionalProperties": false
                },
                "aws": {
                  "type": "object",
                  "properties": {
                    "dynamoStage": {
                      "type": "string"
                    },
                    "accessKeyId": {
                      "type": "string"
                    },
                    "secretAccessKey": {
                      "type": "string"
                    },
                    "defaultRegion": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "dynamoStage",
                    "accessKeyId",
                    "secretAccessKey",
                    "defaultRegion"
                  ],
                  "additionalProperties": false
                },
                "cloudfront": {
                  "type": "object",
                  "properties": {
                    "publicKey": {
                      "type": "string"
                    },
                    "privateKey": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "publicKey",
                    "privateKey"
                  ],
                  "additionalProperties": false
                },
                "saml": {
                  "type": "object",
                  "properties": {
                    "awsRole": {
                      "type": "string"
                    },
                    "awsProvider": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "awsRole",
                    "awsProvider"
                  ],
                  "additionalProperties": false,
                  "default": {
                    "awsProvider": "",
                    "awsRole": ""
                  }
                },
                "django": {
                  "type": "object",
                  "properties": {
                    "adminUrl": {
                      "type": "string",
                      "default": "^admin/"
                    },
                    "secretKey": {
                      "type": "string",
                      "default": "local_good_key"
                    },
                    "mandrill": {
                      "type": "object",
                      "properties": {
                        "apiKey": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "apiKey"
                      ],
                      "additionalProperties": false,
                      "default": {
                        "apiKey": ""
                      }
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                }
              },
              "additionalProperties": true,
              "default": {}
            }
          },
          "additionalProperties": false,
          "default": {}
        },
        "cdkEnvironment": {
          "type": "object",
          "properties": {
            "account": {
              "type": "string",
              "default": "971613762022"
            },
            "region": {
              "type": "string",
              "default": "us-east-1"
            }
          },
          "additionalProperties": false,
          "default": {}
        },
        "ccuStage": {
          "type": "string",
          "enum": [
            "local",
            "development",
            "staging",
            "production",
            "test"
          ]
        },
        "pipeline": {
          "type": "object",
          "properties": {
            "repositories": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [
                "infrastructure"
              ],
              "description": "Repositories allow to authenticate via OIDC."
            },
            "assetsBucketName": {
              "type": "string",
              "default": "crisiscleanup-pipeline-assets",
              "description": "Name of S3 bucket used to store pipeline assets."
            }
          },
          "additionalProperties": false,
          "default": {}
        }
      },
      "required": [
        "ccuStage"
      ],
      "additionalProperties": true
    },
    "ApiStackConfig": {
      "type": "object",
      "properties": {
        "eks": {
          "type": "object",
          "properties": {
            "coreDnsVersion": {
              "type": "string",
              "default": "v1.10.1-eksbuild.2",
              "description": "CoreDNS version."
            },
            "kubeProxyVersion": {
              "type": "string",
              "default": "v1.27.3-eksbuild.2",
              "description": "Kube-proxy version."
            },
            "vpcCniVersion": {
              "type": "string",
              "default": "v1.13.3-eksbuild.1",
              "description": "VPC CNI driver version."
            },
            "ebsCsiVersion": {
              "type": "string",
              "default": "v1.21.0-eksbuild.1",
              "description": "EBS CSI driver version."
            },
            "defaultSecretsEncryption": {
              "type": "boolean",
              "default": true,
              "description": "Enable default secrets encryption for k8s secrets."
            },
            "k8s": {
              "type": "object",
              "properties": {
                "version": {
                  "type": "string",
                  "default": "1.27",
                  "description": "Kubernetes version."
                }
              },
              "additionalProperties": false,
              "default": {}
            },
            "platformArns": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "ARNs to add to platform team.",
              "default": []
            },
            "instanceTypes": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "List of instance families for karpenter to provision."
            }
          },
          "additionalProperties": false,
          "default": {},
          "description": "EKS configuration."
        },
        "database": {
          "type": "object",
          "properties": {
            "username": {
              "type": "string"
            },
            "databaseName": {
              "anyOf": [
                {
                  "anyOf": [
                    {
                      "not": {}
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "snapshotIdentifier": {
              "type": "string",
              "description": "Snapshot identifier to restore from."
            },
            "engineVersion": {
              "type": "string",
              "default": "15.3",
              "description": "Aurora Compatible Postgres version."
            },
            "ioOptimized": {
              "type": "boolean",
              "default": false,
              "description": "Enable Aurora IO optimized storage."
            },
            "minAcu": {
              "type": "number",
              "default": 0.5,
              "description": "Minimum Aurora capacity unit."
            },
            "maxAcu": {
              "type": "number",
              "default": 1.5,
              "description": "Maximum Aurora capacity unit."
            },
            "isolated": {
              "type": "boolean",
              "description": "Place database in an isolated subnet."
            },
            "numReplicas": {
              "type": "number",
              "default": 0,
              "description": "Number of read replicas."
            },
            "numReplicasScaledWithWriter": {
              "type": "number",
              "default": 0,
              "description": "Number of read replicas scaled with writer."
            },
            "performanceInsights": {
              "type": "boolean",
              "default": false,
              "description": "Enable performance insights."
            },
            "performanceInsightsRetention": {
              "type": "number",
              "default": 7,
              "description": "Number of days to retain performance insights."
            },
            "cloudwatchLogsRetentionDays": {
              "type": "number",
              "default": 30
            },
            "deletionProtection": {
              "type": "boolean",
              "default": false
            },
            "backupRetentionDays": {
              "type": "number",
              "default": 1
            },
            "bastionAllowList": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": []
            }
          },
          "required": [
            "snapshotIdentifier"
          ],
          "additionalProperties": false,
          "default": {
            "snapshotIdentifier": ""
          }
        },
        "network": {
          "type": "object",
          "properties": {
            "maxAzs": {
              "type": "number",
              "default": 2,
              "description": "Maximum availability zones."
            },
            "natGateways": {
              "type": "number",
              "default": 1,
              "description": "Number of NAT gateways."
            },
            "cidr": {
              "type": "string",
              "description": "CIDR for VPC."
            },
            "createIsolatedSubnet": {
              "type": "boolean",
              "default": false,
              "description": "Create isolated /28 subnet."
            }
          },
          "additionalProperties": false,
          "default": {}
        },
        "cache": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Whether to create managed elasticache instance.",
              "default": false
            },
            "nodeType": {
              "type": "string",
              "description": "ElastiCache Node Type",
              "default": "cache.m7g.large"
            },
            "engineVersion": {
              "type": "string",
              "description": "Redis Engine Version",
              "default": "7.0"
            },
            "nodes": {
              "type": "number",
              "description": "Number of nodes to create.",
              "default": 1
            },
            "replicas": {
              "type": "number",
              "description": "Number of replicas to create.",
              "default": 1
            },
            "clusterMode": {
              "type": "boolean",
              "description": "Enable redis cluster mode.",
              "default": false
            },
            "memoryAutoscalingTarget": {
              "anyOf": [
                {
                  "anyOf": [
                    {
                      "not": {}
                    },
                    {
                      "type": "number",
                      "minimum": 10,
                      "maximum": 100
                    }
                  ]
                },
                {
                  "type": "null"
                }
              ],
              "description": "Configure autoscaling target for cluster.",
              "default": null
            }
          },
          "additionalProperties": false,
          "default": {}
        },
        "arc": {
          "type": "object",
          "properties": {
            "github": {
              "type": "object",
              "properties": {
                "appId": {
                  "type": "string"
                },
                "appInstallationId": {
                  "type": "string"
                },
                "appPrivateKey": {
                  "type": "string"
                }
              },
              "required": [
                "appId",
                "appInstallationId",
                "appPrivateKey"
              ],
              "additionalProperties": false,
              "description": "Github App Credentials",
              "default": {
                "appId": "",
                "appInstallationId": "",
                "appPrivateKey": ""
              }
            },
            "minRunners": {
              "type": [
                "number",
                "null"
              ],
              "default": null,
              "description": "Minimum allowed runners"
            },
            "maxRunners": {
              "type": [
                "number",
                "null"
              ],
              "default": null,
              "description": "Maximum allowed runners"
            }
          },
          "additionalProperties": false,
          "default": {}
        },
        "codeStarConnectionArn": {
          "type": "string"
        },
        "kubecostToken": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "ChartConfig": {
      "type": "object",
      "properties": {
        "namespace": {
          "type": "string",
          "minLength": 1,
          "default": "local",
          "description": "Target k8s namespace name."
        },
        "domainName": {
          "type": "string",
          "minLength": 1,
          "default": "local.crisiscleanup.io"
        },
        "apiImage": {
          "type": "object",
          "properties": {
            "repository": {
              "type": "string"
            },
            "tag": {
              "type": "string",
              "default": "latest"
            },
            "pullPolicy": {
              "type": "string",
              "enum": [
                "Always",
                "Never",
                "IfNotPresent"
              ]
            }
          },
          "required": [
            "repository",
            "pullPolicy"
          ],
          "additionalProperties": false,
          "description": "Default image to use for api components.",
          "default": {
            "repository": "crisiscleanup-api",
            "tag": "latest",
            "pullPolicy": "IfNotPresent"
          }
        },
        "webImage": {
          "type": "object",
          "properties": {
            "repository": {
              "type": "string"
            },
            "tag": {
              "type": "string",
              "default": "latest"
            },
            "pullPolicy": {
              "type": "string",
              "enum": [
                "Always",
                "Never",
                "IfNotPresent"
              ]
            }
          },
          "required": [
            "repository",
            "pullPolicy"
          ],
          "additionalProperties": false,
          "description": "Default image to use for web components.",
          "default": {
            "repository": "crisiscleanup-web",
            "tag": "latest",
            "pullPolicy": "IfNotPresent"
          }
        },
        "ingressAnnotations": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "Annotations to add to ingress resource.",
          "default": {
            "alb.ingress.kubernetes.io/listen-ports": "[{\"HTTP\": 80}, {\"HTTPS\":443}]",
            "alb.ingress.kubernetes.io/ssl-redirect": "443",
            "alb.ingress.kubernetes.io/scheme": "internet-facing",
            "alb.ingress.kubernetes.io/target-type": "ip",
            "alb.ingress.kubernetes.io/target-group-attributes": "load_balancing.algorithm.type=least_outstanding_requests",
            "alb.ingress.kubernetes.io/healthcheck-path": "/health",
            "alb.ingress.kubernetes.io/load-balancer-attributes": "idle_timeout.timeout_seconds=120"
          }
        },
        "web": {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "image": {
                  "type": "object",
                  "properties": {
                    "repository": {
                      "type": "string"
                    },
                    "tag": {
                      "type": "string",
                      "default": "latest"
                    },
                    "pullPolicy": {
                      "type": "string",
                      "enum": [
                        "Always",
                        "Never",
                        "IfNotPresent"
                      ]
                    }
                  },
                  "required": [
                    "repository",
                    "pullPolicy"
                  ],
                  "additionalProperties": false,
                  "description": "Container Image Configuration"
                },
                "scaling": {
                  "type": "object",
                  "properties": {
                    "minReplicas": {
                      "type": "number"
                    },
                    "maxReplicas": {
                      "type": "number",
                      "default": 2,
                      "description": "Maximum number of replicas to scale up too."
                    },
                    "cpuUtilPercent": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100,
                      "default": 70,
                      "description": "Target average cpu utilization percentage."
                    },
                    "memUtilPercent": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100,
                      "default": 85,
                      "description": "Target average memory utilization percentage."
                    }
                  },
                  "additionalProperties": true,
                  "description": "Horizontal Autoscaling Parameters"
                }
              },
              "required": [
                "scaling"
              ],
              "additionalProperties": true
            },
            {
              "type": "object",
              "properties": {
                "image": {
                  "type": "object",
                  "properties": {
                    "repository": {
                      "type": "string"
                    },
                    "tag": {
                      "type": "string",
                      "default": "latest"
                    },
                    "pullPolicy": {
                      "type": "string",
                      "enum": [
                        "Always",
                        "Never",
                        "IfNotPresent"
                      ]
                    }
                  },
                  "required": [
                    "repository",
                    "pullPolicy"
                  ],
                  "additionalProperties": false,
                  "description": "Container Image Configuration"
                },
                "replicaCount": {
                  "type": "number",
                  "minimum": 0,
                  "description": "Static number of replicas to create."
                }
              },
              "required": [
                "replicaCount"
              ],
              "additionalProperties": true
            }
          ],
          "description": "Frontend web component.",
          "default": {
            "replicaCount": 2
          }
        },
        "wsgi": {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "image": {
                  "type": "object",
                  "properties": {
                    "repository": {
                      "type": "string"
                    },
                    "tag": {
                      "type": "string",
                      "default": "latest"
                    },
                    "pullPolicy": {
                      "type": "string",
                      "enum": [
                        "Always",
                        "Never",
                        "IfNotPresent"
                      ]
                    }
                  },
                  "required": [
                    "repository",
                    "pullPolicy"
                  ],
                  "additionalProperties": false,
                  "description": "Container Image Configuration"
                },
                "scaling": {
                  "type": "object",
                  "properties": {
                    "minReplicas": {
                      "type": "number"
                    },
                    "maxReplicas": {
                      "type": "number",
                      "default": 2,
                      "description": "Maximum number of replicas to scale up too."
                    },
                    "cpuUtilPercent": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100,
                      "default": 70,
                      "description": "Target average cpu utilization percentage."
                    },
                    "memUtilPercent": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100,
                      "default": 85,
                      "description": "Target average memory utilization percentage."
                    }
                  },
                  "additionalProperties": true,
                  "description": "Horizontal Autoscaling Parameters"
                }
              },
              "required": [
                "scaling"
              ],
              "additionalProperties": true
            },
            {
              "type": "object",
              "properties": {
                "image": {
                  "type": "object",
                  "properties": {
                    "repository": {
                      "type": "string"
                    },
                    "tag": {
                      "type": "string",
                      "default": "latest"
                    },
                    "pullPolicy": {
                      "type": "string",
                      "enum": [
                        "Always",
                        "Never",
                        "IfNotPresent"
                      ]
                    }
                  },
                  "required": [
                    "repository",
                    "pullPolicy"
                  ],
                  "additionalProperties": false,
                  "description": "Container Image Configuration"
                },
                "replicaCount": {
                  "type": "number",
                  "minimum": 0,
                  "description": "Static number of replicas to create."
                }
              },
              "required": [
                "replicaCount"
              ],
              "additionalProperties": true
            }
          ],
          "description": "Django Api WSGI component.",
          "default": {
            "scaling": {
              "minReplicas": 1,
              "maxReplicas": 3
            }
          }
        },
        "asgi": {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "image": {
                  "type": "object",
                  "properties": {
                    "repository": {
                      "type": "string"
                    },
                    "tag": {
                      "type": "string",
                      "default": "latest"
                    },
                    "pullPolicy": {
                      "type": "string",
                      "enum": [
                        "Always",
                        "Never",
                        "IfNotPresent"
                      ]
                    }
                  },
                  "required": [
                    "repository",
                    "pullPolicy"
                  ],
                  "additionalProperties": false,
                  "description": "Container Image Configuration"
                },
                "scaling": {
                  "type": "object",
                  "properties": {
                    "minReplicas": {
                      "type": "number"
                    },
                    "maxReplicas": {
                      "type": "number",
                      "default": 2,
                      "description": "Maximum number of replicas to scale up too."
                    },
                    "cpuUtilPercent": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100,
                      "default": 70,
                      "description": "Target average cpu utilization percentage."
                    },
                    "memUtilPercent": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100,
                      "default": 85,
                      "description": "Target average memory utilization percentage."
                    }
                  },
                  "additionalProperties": true,
                  "description": "Horizontal Autoscaling Parameters"
                }
              },
              "required": [
                "scaling"
              ],
              "additionalProperties": true
            },
            {
              "type": "object",
              "properties": {
                "image": {
                  "type": "object",
                  "properties": {
                    "repository": {
                      "type": "string"
                    },
                    "tag": {
                      "type": "string",
                      "default": "latest"
                    },
                    "pullPolicy": {
                      "type": "string",
                      "enum": [
                        "Always",
                        "Never",
                        "IfNotPresent"
                      ]
                    }
                  },
                  "required": [
                    "repository",
                    "pullPolicy"
                  ],
                  "additionalProperties": false,
                  "description": "Container Image Configuration"
                },
                "replicaCount": {
                  "type": "number",
                  "minimum": 0,
                  "description": "Static number of replicas to create."
                }
              },
              "required": [
                "replicaCount"
              ],
              "additionalProperties": true
            }
          ],
          "description": "Django Api ASGI component.",
          "default": {
            "scaling": {
              "minReplicas": 1,
              "maxReplicas": 2
            }
          }
        },
        "celeryBeat": {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "image": {
                  "type": "object",
                  "properties": {
                    "repository": {
                      "type": "string"
                    },
                    "tag": {
                      "type": "string",
                      "default": "latest"
                    },
                    "pullPolicy": {
                      "type": "string",
                      "enum": [
                        "Always",
                        "Never",
                        "IfNotPresent"
                      ]
                    }
                  },
                  "required": [
                    "repository",
                    "pullPolicy"
                  ],
                  "additionalProperties": false,
                  "description": "Container Image Configuration"
                },
                "scaling": {
                  "type": "object",
                  "properties": {
                    "minReplicas": {
                      "type": "number"
                    },
                    "maxReplicas": {
                      "type": "number",
                      "default": 2,
                      "description": "Maximum number of replicas to scale up too."
                    },
                    "cpuUtilPercent": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100,
                      "default": 70,
                      "description": "Target average cpu utilization percentage."
                    },
                    "memUtilPercent": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100,
                      "default": 85,
                      "description": "Target average memory utilization percentage."
                    }
                  },
                  "additionalProperties": true,
                  "description": "Horizontal Autoscaling Parameters"
                }
              },
              "required": [
                "scaling"
              ],
              "additionalProperties": true
            },
            {
              "type": "object",
              "properties": {
                "image": {
                  "type": "object",
                  "properties": {
                    "repository": {
                      "type": "string"
                    },
                    "tag": {
                      "type": "string",
                      "default": "latest"
                    },
                    "pullPolicy": {
                      "type": "string",
                      "enum": [
                        "Always",
                        "Never",
                        "IfNotPresent"
                      ]
                    }
                  },
                  "required": [
                    "repository",
                    "pullPolicy"
                  ],
                  "additionalProperties": false,
                  "description": "Container Image Configuration"
                },
                "replicaCount": {
                  "type": "number",
                  "minimum": 0,
                  "description": "Static number of replicas to create."
                }
              },
              "required": [
                "replicaCount"
              ],
              "additionalProperties": true
            }
          ],
          "description": "Celery Beat component.",
          "default": {
            "replicaCount": 1
          }
        },
        "celery": {
          "type": "object",
          "additionalProperties": {
            "anyOf": [
              {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "object",
                    "properties": {
                      "repository": {
                        "type": "string"
                      },
                      "tag": {
                        "type": "string",
                        "default": "latest"
                      },
                      "pullPolicy": {
                        "type": "string",
                        "enum": [
                          "Always",
                          "Never",
                          "IfNotPresent"
                        ]
                      }
                    },
                    "required": [
                      "repository",
                      "pullPolicy"
                    ],
                    "additionalProperties": false,
                    "description": "Container Image Configuration"
                  },
                  "queues": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1
                  },
                  "scaling": {
                    "type": "object",
                    "properties": {
                      "minReplicas": {
                        "type": "number"
                      },
                      "maxReplicas": {
                        "type": "number",
                        "default": 2,
                        "description": "Maximum number of replicas to scale up too."
                      },
                      "cpuUtilPercent": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 100,
                        "default": 70,
                        "description": "Target average cpu utilization percentage."
                      },
                      "memUtilPercent": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 100,
                        "default": 85,
                        "description": "Target average memory utilization percentage."
                      }
                    },
                    "additionalProperties": true,
                    "description": "Horizontal Autoscaling Parameters"
                  }
                },
                "required": [
                  "queues",
                  "scaling"
                ],
                "additionalProperties": true
              },
              {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "object",
                    "properties": {
                      "repository": {
                        "type": "string"
                      },
                      "tag": {
                        "type": "string",
                        "default": "latest"
                      },
                      "pullPolicy": {
                        "type": "string",
                        "enum": [
                          "Always",
                          "Never",
                          "IfNotPresent"
                        ]
                      }
                    },
                    "required": [
                      "repository",
                      "pullPolicy"
                    ],
                    "additionalProperties": false,
                    "description": "Container Image Configuration"
                  },
                  "queues": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1
                  },
                  "replicaCount": {
                    "type": "number",
                    "minimum": 0,
                    "description": "Static number of replicas to create."
                  }
                },
                "required": [
                  "queues",
                  "replicaCount"
                ],
                "additionalProperties": true
              }
            ]
          },
          "propertyNames": {
            "minLength": 1
          },
          "description": "Celery worker components.",
          "default": {
            "celery": {
              "queues": [
                "celery"
              ],
              "scaling": {
                "minReplicas": 1,
                "maxReplicas": 2
              }
            },
            "signal": {
              "queues": [
                "signal",
                "phone",
                "metrics"
              ],
              "scaling": {
                "minReplicas": 1,
                "maxReplicas": 2
              }
            }
          }
        },
        "adminWebsocket": {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "image": {
                  "type": "object",
                  "properties": {
                    "repository": {
                      "type": "string"
                    },
                    "tag": {
                      "type": "string",
                      "default": "latest"
                    },
                    "pullPolicy": {
                      "type": "string",
                      "enum": [
                        "Always",
                        "Never",
                        "IfNotPresent"
                      ]
                    }
                  },
                  "required": [
                    "repository",
                    "pullPolicy"
                  ],
                  "additionalProperties": false,
                  "description": "Container Image Configuration"
                },
                "scaling": {
                  "type": "object",
                  "properties": {
                    "minReplicas": {
                      "type": "number"
                    },
                    "maxReplicas": {
                      "type": "number",
                      "default": 2,
                      "description": "Maximum number of replicas to scale up too."
                    },
                    "cpuUtilPercent": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100,
                      "default": 70,
                      "description": "Target average cpu utilization percentage."
                    },
                    "memUtilPercent": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100,
                      "default": 85,
                      "description": "Target average memory utilization percentage."
                    }
                  },
                  "additionalProperties": true,
                  "description": "Horizontal Autoscaling Parameters"
                }
              },
              "required": [
                "scaling"
              ],
              "additionalProperties": true
            },
            {
              "type": "object",
              "properties": {
                "image": {
                  "type": "object",
                  "properties": {
                    "repository": {
                      "type": "string"
                    },
                    "tag": {
                      "type": "string",
                      "default": "latest"
                    },
                    "pullPolicy": {
                      "type": "string",
                      "enum": [
                        "Always",
                        "Never",
                        "IfNotPresent"
                      ]
                    }
                  },
                  "required": [
                    "repository",
                    "pullPolicy"
                  ],
                  "additionalProperties": false,
                  "description": "Container Image Configuration"
                },
                "replicaCount": {
                  "type": "number",
                  "minimum": 0,
                  "description": "Static number of replicas to create."
                }
              },
              "required": [
                "replicaCount"
              ],
              "additionalProperties": true
            }
          ],
          "description": "Connect Admin Websocket component",
          "default": {
            "replicaCount": 1
          }
        }
      },
      "additionalProperties": false
    },
    "CrisisCleanupConfig": {
      "type": "object",
      "properties": {
        "api": {
          "type": "object",
          "properties": {
            "config": {
              "type": "object",
              "properties": {
                "celery": {
                  "type": "object",
                  "properties": {
                    "alwaysEager": {
                      "type": "boolean",
                      "default": false,
                      "description": "Run celery tasks synchronously"
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "django": {
                  "type": "object",
                  "properties": {
                    "accountAllowRegistration": {
                      "type": "boolean",
                      "default": true
                    },
                    "allowedHosts": {
                      "anyOf": [
                        {
                          "allOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          ]
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "default": [
                        "*"
                      ],
                      "description": "Django ALLOWED_HOSTS"
                    },
                    "csrfCookieSecure": {
                      "type": "boolean",
                      "default": true,
                      "description": "Secure CSRF cookie"
                    },
                    "secureSslRedirect": {
                      "type": "boolean",
                      "default": false
                    },
                    "sessionCookieSecure": {
                      "type": "boolean",
                      "default": true
                    },
                    "emailBackend": {
                      "type": "string",
                      "default": "django.core.mail.backends.dummy.EmailBackend",
                      "description": "Django EMAIL_BACKEND python import path."
                    },
                    "settingsModule": {
                      "type": "string",
                      "default": "config.settings.local",
                      "description": "Django settings module"
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "elasticSearch": {
                  "type": "object",
                  "properties": {
                    "host": {
                      "type": "string",
                      "default": ""
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "newRelic": {
                  "type": "object",
                  "properties": {
                    "configFile": {
                      "type": "string",
                      "default": "/app/newrelic.ini",
                      "description": "Path to newrelic.ini file"
                    },
                    "environment": {
                      "type": "string",
                      "enum": [
                        "local",
                        "development",
                        "staging",
                        "production",
                        "test"
                      ]
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "ccu": {
                  "type": "object",
                  "properties": {
                    "newrelicDisable": {
                      "type": "boolean",
                      "default": true,
                      "description": "Disable new relic integration."
                    },
                    "webUrl": {
                      "type": "string",
                      "format": "uri",
                      "default": "https://local.crisiscleanup.io"
                    },
                    "apiUrl": {
                      "type": "string",
                      "format": "uri",
                      "default": "https://api.local.crisiscleanup.io"
                    },
                    "forceDocker": {
                      "type": "boolean",
                      "default": true,
                      "description": "Force assumption of running in docker."
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "sentry": {
                  "type": "object",
                  "properties": {
                    "traceExcludeUrls": {
                      "anyOf": [
                        {
                          "allOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          ]
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "default": [
                        "/",
                        "/health",
                        "/health/",
                        "/ws/health",
                        "/ws/health/",
                        "/version",
                        "/version/",
                        "/{var}health/",
                        "/{var}version/"
                      ],
                      "description": "Sentry trace names to exclude."
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "connect": {
                  "type": "object",
                  "properties": {
                    "instanceId": {
                      "type": "string",
                      "default": ""
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "phone": {
                  "type": "object",
                  "properties": {
                    "checkTimezone": {
                      "type": "boolean",
                      "default": true,
                      "description": "Enable phone system timezone guardrails."
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                }
              },
              "additionalProperties": false,
              "default": {}
            },
            "secrets": {
              "type": "object",
              "properties": {
                "postgres": {
                  "type": "object",
                  "properties": {
                    "dbname": {
                      "type": "string"
                    },
                    "host": {
                      "type": "string"
                    },
                    "password": {
                      "type": "string"
                    },
                    "user": {
                      "type": "string"
                    },
                    "port": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "dbname"
                  ],
                  "additionalProperties": false,
                  "default": {
                    "dbname": "crisiscleanup_local",
                    "port": "5432"
                  }
                },
                "redis": {
                  "type": "object",
                  "properties": {
                    "host": {
                      "type": "string"
                    },
                    "hostReplicas": {
                      "anyOf": [
                        {
                          "allOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          ]
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ],
                      "default": []
                    }
                  },
                  "required": [
                    "host"
                  ],
                  "additionalProperties": false,
                  "default": {
                    "host": "172.17.0.1"
                  }
                },
                "jwt": {
                  "type": "object",
                  "properties": {
                    "publicKey": {
                      "type": "string"
                    },
                    "privateKey": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "publicKey",
                    "privateKey"
                  ],
                  "additionalProperties": false
                },
                "zendesk": {
                  "type": "object",
                  "properties": {
                    "apiKey": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "apiKey"
                  ],
                  "additionalProperties": false
                },
                "connectFirst": {
                  "type": "object",
                  "properties": {
                    "password": {
                      "type": "string",
                      "default": ""
                    }
                  },
                  "additionalProperties": false
                },
                "aws": {
                  "type": "object",
                  "properties": {
                    "dynamoStage": {
                      "type": "string"
                    },
                    "accessKeyId": {
                      "type": "string"
                    },
                    "secretAccessKey": {
                      "type": "string"
                    },
                    "defaultRegion": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "dynamoStage",
                    "accessKeyId",
                    "secretAccessKey",
                    "defaultRegion"
                  ],
                  "additionalProperties": false
                },
                "cloudfront": {
                  "type": "object",
                  "properties": {
                    "publicKey": {
                      "type": "string"
                    },
                    "privateKey": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "publicKey",
                    "privateKey"
                  ],
                  "additionalProperties": false
                },
                "saml": {
                  "type": "object",
                  "properties": {
                    "awsRole": {
                      "type": "string"
                    },
                    "awsProvider": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "awsRole",
                    "awsProvider"
                  ],
                  "additionalProperties": false,
                  "default": {
                    "awsProvider": "",
                    "awsRole": ""
                  }
                },
                "django": {
                  "type": "object",
                  "properties": {
                    "adminUrl": {
                      "type": "string",
                      "default": "^admin/"
                    },
                    "secretKey": {
                      "type": "string",
                      "default": "local_good_key"
                    },
                    "mandrill": {
                      "type": "object",
                      "properties": {
                        "apiKey": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "apiKey"
                      ],
                      "additionalProperties": false,
                      "default": {
                        "apiKey": ""
                      }
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                }
              },
              "additionalProperties": true,
              "default": {}
            }
          },
          "additionalProperties": false,
          "default": {}
        },
        "cdkEnvironment": {
          "type": "object",
          "properties": {
            "account": {
              "type": "string",
              "default": "971613762022"
            },
            "region": {
              "type": "string",
              "default": "us-east-1"
            }
          },
          "additionalProperties": false,
          "default": {}
        },
        "ccuStage": {
          "type": "string",
          "enum": [
            "local",
            "development",
            "staging",
            "production",
            "test"
          ]
        },
        "pipeline": {
          "type": "object",
          "properties": {
            "repositories": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [
                "infrastructure"
              ],
              "description": "Repositories allow to authenticate via OIDC."
            },
            "assetsBucketName": {
              "type": "string",
              "default": "crisiscleanup-pipeline-assets",
              "description": "Name of S3 bucket used to store pipeline assets."
            }
          },
          "additionalProperties": false,
          "default": {}
        },
        "apiStack": {
          "type": "object",
          "properties": {
            "eks": {
              "type": "object",
              "properties": {
                "coreDnsVersion": {
                  "type": "string",
                  "default": "v1.10.1-eksbuild.2",
                  "description": "CoreDNS version."
                },
                "kubeProxyVersion": {
                  "type": "string",
                  "default": "v1.27.3-eksbuild.2",
                  "description": "Kube-proxy version."
                },
                "vpcCniVersion": {
                  "type": "string",
                  "default": "v1.13.3-eksbuild.1",
                  "description": "VPC CNI driver version."
                },
                "ebsCsiVersion": {
                  "type": "string",
                  "default": "v1.21.0-eksbuild.1",
                  "description": "EBS CSI driver version."
                },
                "defaultSecretsEncryption": {
                  "type": "boolean",
                  "default": true,
                  "description": "Enable default secrets encryption for k8s secrets."
                },
                "k8s": {
                  "type": "object",
                  "properties": {
                    "version": {
                      "type": "string",
                      "default": "1.27",
                      "description": "Kubernetes version."
                    }
                  },
                  "additionalProperties": false,
                  "default": {}
                },
                "platformArns": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "ARNs to add to platform team.",
                  "default": []
                },
                "instanceTypes": {
                  "anyOf": [
                    {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "List of instance families for karpenter to provision."
                }
              },
              "additionalProperties": false,
              "default": {},
              "description": "EKS configuration."
            },
            "database": {
              "type": "object",
              "properties": {
                "username": {
                  "type": "string"
                },
                "databaseName": {
                  "anyOf": [
                    {
                      "anyOf": [
                        {
                          "not": {}
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                },
                "snapshotIdentifier": {
                  "type": "string",
                  "description": "Snapshot identifier to restore from."
                },
                "engineVersion": {
                  "type": "string",
                  "default": "15.3",
                  "description": "Aurora Compatible Postgres version."
                },
                "ioOptimized": {
                  "type": "boolean",
                  "default": false,
                  "description": "Enable Aurora IO optimized storage."
                },
                "minAcu": {
                  "type": "number",
                  "default": 0.5,
                  "description": "Minimum Aurora capacity unit."
                },
                "maxAcu": {
                  "type": "number",
                  "default": 1.5,
                  "description": "Maximum Aurora capacity unit."
                },
                "isolated": {
                  "type": "boolean",
                  "description": "Place database in an isolated subnet."
                },
                "numReplicas": {
                  "type": "number",
                  "default": 0,
                  "description": "Number of read replicas."
                },
                "numReplicasScaledWithWriter": {
                  "type": "number",
                  "default": 0,
                  "description": "Number of read replicas scaled with writer."
                },
                "performanceInsights": {
                  "type": "boolean",
                  "default": false,
                  "description": "Enable performance insights."
                },
                "performanceInsightsRetention": {
                  "type": "number",
                  "default": 7,
                  "description": "Number of days to retain performance insights."
                },
                "cloudwatchLogsRetentionDays": {
                  "type": "number",
                  "default": 30
                },
                "deletionProtection": {
                  "type": "boolean",
                  "default": false
                },
                "backupRetentionDays": {
                  "type": "number",
                  "default": 1
                },
                "bastionAllowList": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "default": []
                }
              },
              "required": [
                "snapshotIdentifier"
              ],
              "additionalProperties": false,
              "default": {
                "snapshotIdentifier": ""
              }
            },
            "network": {
              "type": "object",
              "properties": {
                "maxAzs": {
                  "type": "number",
                  "default": 2,
                  "description": "Maximum availability zones."
                },
                "natGateways": {
                  "type": "number",
                  "default": 1,
                  "description": "Number of NAT gateways."
                },
                "cidr": {
                  "type": "string",
                  "description": "CIDR for VPC."
                },
                "createIsolatedSubnet": {
                  "type": "boolean",
                  "default": false,
                  "description": "Create isolated /28 subnet."
                }
              },
              "additionalProperties": false,
              "default": {}
            },
            "cache": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "description": "Whether to create managed elasticache instance.",
                  "default": false
                },
                "nodeType": {
                  "type": "string",
                  "description": "ElastiCache Node Type",
                  "default": "cache.m7g.large"
                },
                "engineVersion": {
                  "type": "string",
                  "description": "Redis Engine Version",
                  "default": "7.0"
                },
                "nodes": {
                  "type": "number",
                  "description": "Number of nodes to create.",
                  "default": 1
                },
                "replicas": {
                  "type": "number",
                  "description": "Number of replicas to create.",
                  "default": 1
                },
                "clusterMode": {
                  "type": "boolean",
                  "description": "Enable redis cluster mode.",
                  "default": false
                },
                "memoryAutoscalingTarget": {
                  "anyOf": [
                    {
                      "anyOf": [
                        {
                          "not": {}
                        },
                        {
                          "type": "number",
                          "minimum": 10,
                          "maximum": 100
                        }
                      ]
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "description": "Configure autoscaling target for cluster.",
                  "default": null
                }
              },
              "additionalProperties": false,
              "default": {}
            },
            "arc": {
              "type": "object",
              "properties": {
                "github": {
                  "type": "object",
                  "properties": {
                    "appId": {
                      "type": "string"
                    },
                    "appInstallationId": {
                      "type": "string"
                    },
                    "appPrivateKey": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "appId",
                    "appInstallationId",
                    "appPrivateKey"
                  ],
                  "additionalProperties": false,
                  "description": "Github App Credentials",
                  "default": {
                    "appId": "",
                    "appInstallationId": "",
                    "appPrivateKey": ""
                  }
                },
                "minRunners": {
                  "type": [
                    "number",
                    "null"
                  ],
                  "default": null,
                  "description": "Minimum allowed runners"
                },
                "maxRunners": {
                  "type": [
                    "number",
                    "null"
                  ],
                  "default": null,
                  "description": "Maximum allowed runners"
                }
              },
              "additionalProperties": false,
              "default": {}
            },
            "codeStarConnectionArn": {
              "type": "string"
            },
            "kubecostToken": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "chart": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "minLength": 1,
              "default": "local",
              "description": "Target k8s namespace name."
            },
            "domainName": {
              "type": "string",
              "minLength": 1,
              "default": "local.crisiscleanup.io"
            },
            "apiImage": {
              "type": "object",
              "properties": {
                "repository": {
                  "type": "string"
                },
                "tag": {
                  "type": "string",
                  "default": "latest"
                },
                "pullPolicy": {
                  "type": "string",
                  "enum": [
                    "Always",
                    "Never",
                    "IfNotPresent"
                  ]
                }
              },
              "required": [
                "repository",
                "pullPolicy"
              ],
              "additionalProperties": false,
              "description": "Default image to use for api components.",
              "default": {
                "repository": "crisiscleanup-api",
                "tag": "latest",
                "pullPolicy": "IfNotPresent"
              }
            },
            "webImage": {
              "type": "object",
              "properties": {
                "repository": {
                  "type": "string"
                },
                "tag": {
                  "type": "string",
                  "default": "latest"
                },
                "pullPolicy": {
                  "type": "string",
                  "enum": [
                    "Always",
                    "Never",
                    "IfNotPresent"
                  ]
                }
              },
              "required": [
                "repository",
                "pullPolicy"
              ],
              "additionalProperties": false,
              "description": "Default image to use for web components.",
              "default": {
                "repository": "crisiscleanup-web",
                "tag": "latest",
                "pullPolicy": "IfNotPresent"
              }
            },
            "ingressAnnotations": {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "description": "Annotations to add to ingress resource.",
              "default": {
                "alb.ingress.kubernetes.io/listen-ports": "[{\"HTTP\": 80}, {\"HTTPS\":443}]",
                "alb.ingress.kubernetes.io/ssl-redirect": "443",
                "alb.ingress.kubernetes.io/scheme": "internet-facing",
                "alb.ingress.kubernetes.io/target-type": "ip",
                "alb.ingress.kubernetes.io/target-group-attributes": "load_balancing.algorithm.type=least_outstanding_requests",
                "alb.ingress.kubernetes.io/healthcheck-path": "/health",
                "alb.ingress.kubernetes.io/load-balancer-attributes": "idle_timeout.timeout_seconds=120"
              }
            },
            "web": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "image": {
                      "type": "object",
                      "properties": {
                        "repository": {
                          "type": "string"
                        },
                        "tag": {
                          "type": "string",
                          "default": "latest"
                        },
                        "pullPolicy": {
                          "type": "string",
                          "enum": [
                            "Always",
                            "Never",
                            "IfNotPresent"
                          ]
                        }
                      },
                      "required": [
                        "repository",
                        "pullPolicy"
                      ],
                      "additionalProperties": false,
                      "description": "Container Image Configuration"
                    },
                    "scaling": {
                      "type": "object",
                      "properties": {
                        "minReplicas": {
                          "type": "number"
                        },
                        "maxReplicas": {
                          "type": "number",
                          "default": 2,
                          "description": "Maximum number of replicas to scale up too."
                        },
                        "cpuUtilPercent": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 100,
                          "default": 70,
                          "description": "Target average cpu utilization percentage."
                        },
                        "memUtilPercent": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 100,
                          "default": 85,
                          "description": "Target average memory utilization percentage."
                        }
                      },
                      "additionalProperties": true,
                      "description": "Horizontal Autoscaling Parameters"
                    }
                  },
                  "required": [
                    "scaling"
                  ],
                  "additionalProperties": true
                },
                {
                  "type": "object",
                  "properties": {
                    "image": {
                      "type": "object",
                      "properties": {
                        "repository": {
                          "type": "string"
                        },
                        "tag": {
                          "type": "string",
                          "default": "latest"
                        },
                        "pullPolicy": {
                          "type": "string",
                          "enum": [
                            "Always",
                            "Never",
                            "IfNotPresent"
                          ]
                        }
                      },
                      "required": [
                        "repository",
                        "pullPolicy"
                      ],
                      "additionalProperties": false,
                      "description": "Container Image Configuration"
                    },
                    "replicaCount": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Static number of replicas to create."
                    }
                  },
                  "required": [
                    "replicaCount"
                  ],
                  "additionalProperties": true
                }
              ],
              "description": "Frontend web component.",
              "default": {
                "replicaCount": 2
              }
            },
            "wsgi": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "image": {
                      "type": "object",
                      "properties": {
                        "repository": {
                          "type": "string"
                        },
                        "tag": {
                          "type": "string",
                          "default": "latest"
                        },
                        "pullPolicy": {
                          "type": "string",
                          "enum": [
                            "Always",
                            "Never",
                            "IfNotPresent"
                          ]
                        }
                      },
                      "required": [
                        "repository",
                        "pullPolicy"
                      ],
                      "additionalProperties": false,
                      "description": "Container Image Configuration"
                    },
                    "scaling": {
                      "type": "object",
                      "properties": {
                        "minReplicas": {
                          "type": "number"
                        },
                        "maxReplicas": {
                          "type": "number",
                          "default": 2,
                          "description": "Maximum number of replicas to scale up too."
                        },
                        "cpuUtilPercent": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 100,
                          "default": 70,
                          "description": "Target average cpu utilization percentage."
                        },
                        "memUtilPercent": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 100,
                          "default": 85,
                          "description": "Target average memory utilization percentage."
                        }
                      },
                      "additionalProperties": true,
                      "description": "Horizontal Autoscaling Parameters"
                    }
                  },
                  "required": [
                    "scaling"
                  ],
                  "additionalProperties": true
                },
                {
                  "type": "object",
                  "properties": {
                    "image": {
                      "type": "object",
                      "properties": {
                        "repository": {
                          "type": "string"
                        },
                        "tag": {
                          "type": "string",
                          "default": "latest"
                        },
                        "pullPolicy": {
                          "type": "string",
                          "enum": [
                            "Always",
                            "Never",
                            "IfNotPresent"
                          ]
                        }
                      },
                      "required": [
                        "repository",
                        "pullPolicy"
                      ],
                      "additionalProperties": false,
                      "description": "Container Image Configuration"
                    },
                    "replicaCount": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Static number of replicas to create."
                    }
                  },
                  "required": [
                    "replicaCount"
                  ],
                  "additionalProperties": true
                }
              ],
              "description": "Django Api WSGI component.",
              "default": {
                "scaling": {
                  "minReplicas": 1,
                  "maxReplicas": 3
                }
              }
            },
            "asgi": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "image": {
                      "type": "object",
                      "properties": {
                        "repository": {
                          "type": "string"
                        },
                        "tag": {
                          "type": "string",
                          "default": "latest"
                        },
                        "pullPolicy": {
                          "type": "string",
                          "enum": [
                            "Always",
                            "Never",
                            "IfNotPresent"
                          ]
                        }
                      },
                      "required": [
                        "repository",
                        "pullPolicy"
                      ],
                      "additionalProperties": false,
                      "description": "Container Image Configuration"
                    },
                    "scaling": {
                      "type": "object",
                      "properties": {
                        "minReplicas": {
                          "type": "number"
                        },
                        "maxReplicas": {
                          "type": "number",
                          "default": 2,
                          "description": "Maximum number of replicas to scale up too."
                        },
                        "cpuUtilPercent": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 100,
                          "default": 70,
                          "description": "Target average cpu utilization percentage."
                        },
                        "memUtilPercent": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 100,
                          "default": 85,
                          "description": "Target average memory utilization percentage."
                        }
                      },
                      "additionalProperties": true,
                      "description": "Horizontal Autoscaling Parameters"
                    }
                  },
                  "required": [
                    "scaling"
                  ],
                  "additionalProperties": true
                },
                {
                  "type": "object",
                  "properties": {
                    "image": {
                      "type": "object",
                      "properties": {
                        "repository": {
                          "type": "string"
                        },
                        "tag": {
                          "type": "string",
                          "default": "latest"
                        },
                        "pullPolicy": {
                          "type": "string",
                          "enum": [
                            "Always",
                            "Never",
                            "IfNotPresent"
                          ]
                        }
                      },
                      "required": [
                        "repository",
                        "pullPolicy"
                      ],
                      "additionalProperties": false,
                      "description": "Container Image Configuration"
                    },
                    "replicaCount": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Static number of replicas to create."
                    }
                  },
                  "required": [
                    "replicaCount"
                  ],
                  "additionalProperties": true
                }
              ],
              "description": "Django Api ASGI component.",
              "default": {
                "scaling": {
                  "minReplicas": 1,
                  "maxReplicas": 2
                }
              }
            },
            "celeryBeat": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "image": {
                      "type": "object",
                      "properties": {
                        "repository": {
                          "type": "string"
                        },
                        "tag": {
                          "type": "string",
                          "default": "latest"
                        },
                        "pullPolicy": {
                          "type": "string",
                          "enum": [
                            "Always",
                            "Never",
                            "IfNotPresent"
                          ]
                        }
                      },
                      "required": [
                        "repository",
                        "pullPolicy"
                      ],
                      "additionalProperties": false,
                      "description": "Container Image Configuration"
                    },
                    "scaling": {
                      "type": "object",
                      "properties": {
                        "minReplicas": {
                          "type": "number"
                        },
                        "maxReplicas": {
                          "type": "number",
                          "default": 2,
                          "description": "Maximum number of replicas to scale up too."
                        },
                        "cpuUtilPercent": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 100,
                          "default": 70,
                          "description": "Target average cpu utilization percentage."
                        },
                        "memUtilPercent": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 100,
                          "default": 85,
                          "description": "Target average memory utilization percentage."
                        }
                      },
                      "additionalProperties": true,
                      "description": "Horizontal Autoscaling Parameters"
                    }
                  },
                  "required": [
                    "scaling"
                  ],
                  "additionalProperties": true
                },
                {
                  "type": "object",
                  "properties": {
                    "image": {
                      "type": "object",
                      "properties": {
                        "repository": {
                          "type": "string"
                        },
                        "tag": {
                          "type": "string",
                          "default": "latest"
                        },
                        "pullPolicy": {
                          "type": "string",
                          "enum": [
                            "Always",
                            "Never",
                            "IfNotPresent"
                          ]
                        }
                      },
                      "required": [
                        "repository",
                        "pullPolicy"
                      ],
                      "additionalProperties": false,
                      "description": "Container Image Configuration"
                    },
                    "replicaCount": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Static number of replicas to create."
                    }
                  },
                  "required": [
                    "replicaCount"
                  ],
                  "additionalProperties": true
                }
              ],
              "description": "Celery Beat component.",
              "default": {
                "replicaCount": 1
              }
            },
            "celery": {
              "type": "object",
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "image": {
                        "type": "object",
                        "properties": {
                          "repository": {
                            "type": "string"
                          },
                          "tag": {
                            "type": "string",
                            "default": "latest"
                          },
                          "pullPolicy": {
                            "type": "string",
                            "enum": [
                              "Always",
                              "Never",
                              "IfNotPresent"
                            ]
                          }
                        },
                        "required": [
                          "repository",
                          "pullPolicy"
                        ],
                        "additionalProperties": false,
                        "description": "Container Image Configuration"
                      },
                      "queues": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "minItems": 1
                      },
                      "scaling": {
                        "type": "object",
                        "properties": {
                          "minReplicas": {
                            "type": "number"
                          },
                          "maxReplicas": {
                            "type": "number",
                            "default": 2,
                            "description": "Maximum number of replicas to scale up too."
                          },
                          "cpuUtilPercent": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100,
                            "default": 70,
                            "description": "Target average cpu utilization percentage."
                          },
                          "memUtilPercent": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100,
                            "default": 85,
                            "description": "Target average memory utilization percentage."
                          }
                        },
                        "additionalProperties": true,
                        "description": "Horizontal Autoscaling Parameters"
                      }
                    },
                    "required": [
                      "queues",
                      "scaling"
                    ],
                    "additionalProperties": true
                  },
                  {
                    "type": "object",
                    "properties": {
                      "image": {
                        "type": "object",
                        "properties": {
                          "repository": {
                            "type": "string"
                          },
                          "tag": {
                            "type": "string",
                            "default": "latest"
                          },
                          "pullPolicy": {
                            "type": "string",
                            "enum": [
                              "Always",
                              "Never",
                              "IfNotPresent"
                            ]
                          }
                        },
                        "required": [
                          "repository",
                          "pullPolicy"
                        ],
                        "additionalProperties": false,
                        "description": "Container Image Configuration"
                      },
                      "queues": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "minItems": 1
                      },
                      "replicaCount": {
                        "type": "number",
                        "minimum": 0,
                        "description": "Static number of replicas to create."
                      }
                    },
                    "required": [
                      "queues",
                      "replicaCount"
                    ],
                    "additionalProperties": true
                  }
                ]
              },
              "propertyNames": {
                "minLength": 1
              },
              "description": "Celery worker components.",
              "default": {
                "celery": {
                  "queues": [
                    "celery"
                  ],
                  "scaling": {
                    "minReplicas": 1,
                    "maxReplicas": 2
                  }
                },
                "signal": {
                  "queues": [
                    "signal",
                    "phone",
                    "metrics"
                  ],
                  "scaling": {
                    "minReplicas": 1,
                    "maxReplicas": 2
                  }
                }
              }
            },
            "adminWebsocket": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "image": {
                      "type": "object",
                      "properties": {
                        "repository": {
                          "type": "string"
                        },
                        "tag": {
                          "type": "string",
                          "default": "latest"
                        },
                        "pullPolicy": {
                          "type": "string",
                          "enum": [
                            "Always",
                            "Never",
                            "IfNotPresent"
                          ]
                        }
                      },
                      "required": [
                        "repository",
                        "pullPolicy"
                      ],
                      "additionalProperties": false,
                      "description": "Container Image Configuration"
                    },
                    "scaling": {
                      "type": "object",
                      "properties": {
                        "minReplicas": {
                          "type": "number"
                        },
                        "maxReplicas": {
                          "type": "number",
                          "default": 2,
                          "description": "Maximum number of replicas to scale up too."
                        },
                        "cpuUtilPercent": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 100,
                          "default": 70,
                          "description": "Target average cpu utilization percentage."
                        },
                        "memUtilPercent": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 100,
                          "default": 85,
                          "description": "Target average memory utilization percentage."
                        }
                      },
                      "additionalProperties": true,
                      "description": "Horizontal Autoscaling Parameters"
                    }
                  },
                  "required": [
                    "scaling"
                  ],
                  "additionalProperties": true
                },
                {
                  "type": "object",
                  "properties": {
                    "image": {
                      "type": "object",
                      "properties": {
                        "repository": {
                          "type": "string"
                        },
                        "tag": {
                          "type": "string",
                          "default": "latest"
                        },
                        "pullPolicy": {
                          "type": "string",
                          "enum": [
                            "Always",
                            "Never",
                            "IfNotPresent"
                          ]
                        }
                      },
                      "required": [
                        "repository",
                        "pullPolicy"
                      ],
                      "additionalProperties": false,
                      "description": "Container Image Configuration"
                    },
                    "replicaCount": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Static number of replicas to create."
                    }
                  },
                  "required": [
                    "replicaCount"
                  ],
                  "additionalProperties": true
                }
              ],
              "description": "Connect Admin Websocket component",
              "default": {
                "replicaCount": 1
              }
            }
          },
          "additionalProperties": false
        },
        "$extends": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "$env": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "api": {
                "type": "object",
                "properties": {
                  "config": {
                    "type": "object",
                    "properties": {
                      "celery": {
                        "type": "object",
                        "properties": {
                          "alwaysEager": {
                            "type": "boolean",
                            "default": false,
                            "description": "Run celery tasks synchronously"
                          }
                        },
                        "additionalProperties": false,
                        "default": {}
                      },
                      "django": {
                        "type": "object",
                        "properties": {
                          "accountAllowRegistration": {
                            "type": "boolean",
                            "default": true
                          },
                          "allowedHosts": {
                            "anyOf": [
                              {
                                "allOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              }
                            ],
                            "default": [
                              "*"
                            ],
                            "description": "Django ALLOWED_HOSTS"
                          },
                          "csrfCookieSecure": {
                            "type": "boolean",
                            "default": true,
                            "description": "Secure CSRF cookie"
                          },
                          "secureSslRedirect": {
                            "type": "boolean",
                            "default": false
                          },
                          "sessionCookieSecure": {
                            "type": "boolean",
                            "default": true
                          },
                          "emailBackend": {
                            "type": "string",
                            "default": "django.core.mail.backends.dummy.EmailBackend",
                            "description": "Django EMAIL_BACKEND python import path."
                          },
                          "settingsModule": {
                            "type": "string",
                            "default": "config.settings.local",
                            "description": "Django settings module"
                          }
                        },
                        "additionalProperties": false,
                        "default": {}
                      },
                      "elasticSearch": {
                        "type": "object",
                        "properties": {
                          "host": {
                            "type": "string",
                            "default": ""
                          }
                        },
                        "additionalProperties": false,
                        "default": {}
                      },
                      "newRelic": {
                        "type": "object",
                        "properties": {
                          "configFile": {
                            "type": "string",
                            "default": "/app/newrelic.ini",
                            "description": "Path to newrelic.ini file"
                          },
                          "environment": {
                            "type": "string",
                            "enum": [
                              "local",
                              "development",
                              "staging",
                              "production",
                              "test"
                            ]
                          }
                        },
                        "additionalProperties": false,
                        "default": {}
                      },
                      "ccu": {
                        "type": "object",
                        "properties": {
                          "newrelicDisable": {
                            "type": "boolean",
                            "default": true,
                            "description": "Disable new relic integration."
                          },
                          "webUrl": {
                            "type": "string",
                            "format": "uri",
                            "default": "https://local.crisiscleanup.io"
                          },
                          "apiUrl": {
                            "type": "string",
                            "format": "uri",
                            "default": "https://api.local.crisiscleanup.io"
                          },
                          "forceDocker": {
                            "type": "boolean",
                            "default": true,
                            "description": "Force assumption of running in docker."
                          }
                        },
                        "additionalProperties": false,
                        "default": {}
                      },
                      "sentry": {
                        "type": "object",
                        "properties": {
                          "traceExcludeUrls": {
                            "anyOf": [
                              {
                                "allOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              }
                            ],
                            "default": [
                              "/",
                              "/health",
                              "/health/",
                              "/ws/health",
                              "/ws/health/",
                              "/version",
                              "/version/",
                              "/{var}health/",
                              "/{var}version/"
                            ],
                            "description": "Sentry trace names to exclude."
                          }
                        },
                        "additionalProperties": false,
                        "default": {}
                      },
                      "connect": {
                        "type": "object",
                        "properties": {
                          "instanceId": {
                            "type": "string",
                            "default": ""
                          }
                        },
                        "additionalProperties": false,
                        "default": {}
                      },
                      "phone": {
                        "type": "object",
                        "properties": {
                          "checkTimezone": {
                            "type": "boolean",
                            "default": true,
                            "description": "Enable phone system timezone guardrails."
                          }
                        },
                        "additionalProperties": false,
                        "default": {}
                      }
                    },
                    "additionalProperties": false,
                    "default": {}
                  },
                  "secrets": {
                    "type": "object",
                    "properties": {
                      "postgres": {
                        "type": "object",
                        "properties": {
                          "dbname": {
                            "type": "string"
                          },
                          "host": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          },
                          "user": {
                            "type": "string"
                          },
                          "port": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "dbname"
                        ],
                        "additionalProperties": false,
                        "default": {
                          "dbname": "crisiscleanup_local",
                          "port": "5432"
                        }
                      },
                      "redis": {
                        "type": "object",
                        "properties": {
                          "host": {
                            "type": "string"
                          },
                          "hostReplicas": {
                            "anyOf": [
                              {
                                "allOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              }
                            ],
                            "default": []
                          }
                        },
                        "required": [
                          "host"
                        ],
                        "additionalProperties": false,
                        "default": {
                          "host": "172.17.0.1"
                        }
                      },
                      "jwt": {
                        "type": "object",
                        "properties": {
                          "publicKey": {
                            "type": "string"
                          },
                          "privateKey": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "publicKey",
                          "privateKey"
                        ],
                        "additionalProperties": false
                      },
                      "zendesk": {
                        "type": "object",
                        "properties": {
                          "apiKey": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "apiKey"
                        ],
                        "additionalProperties": false
                      },
                      "connectFirst": {
                        "type": "object",
                        "properties": {
                          "password": {
                            "type": "string",
                            "default": ""
                          }
                        },
                        "additionalProperties": false
                      },
                      "aws": {
                        "type": "object",
                        "properties": {
                          "dynamoStage": {
                            "type": "string"
                          },
                          "accessKeyId": {
                            "type": "string"
                          },
                          "secretAccessKey": {
                            "type": "string"
                          },
                          "defaultRegion": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "dynamoStage",
                          "accessKeyId",
                          "secretAccessKey",
                          "defaultRegion"
                        ],
                        "additionalProperties": false
                      },
                      "cloudfront": {
                        "type": "object",
                        "properties": {
                          "publicKey": {
                            "type": "string"
                          },
                          "privateKey": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "publicKey",
                          "privateKey"
                        ],
                        "additionalProperties": false
                      },
                      "saml": {
                        "type": "object",
                        "properties": {
                          "awsRole": {
                            "type": "string"
                          },
                          "awsProvider": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "awsRole",
                          "awsProvider"
                        ],
                        "additionalProperties": false,
                        "default": {
                          "awsProvider": "",
                          "awsRole": ""
                        }
                      },
                      "django": {
                        "type": "object",
                        "properties": {
                          "adminUrl": {
                            "type": "string",
                            "default": "^admin/"
                          },
                          "secretKey": {
                            "type": "string",
                            "default": "local_good_key"
                          },
                          "mandrill": {
                            "type": "object",
                            "properties": {
                              "apiKey": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "apiKey"
                            ],
                            "additionalProperties": false,
                            "default": {
                              "apiKey": ""
                            }
                          }
                        },
                        "additionalProperties": false,
                        "default": {}
                      }
                    },
                    "additionalProperties": true,
                    "default": {}
                  }
                },
                "additionalProperties": false,
                "default": {}
              },
              "cdkEnvironment": {
                "type": "object",
                "properties": {
                  "account": {
                    "type": "string",
                    "default": "971613762022"
                  },
                  "region": {
                    "type": "string",
                    "default": "us-east-1"
                  }
                },
                "additionalProperties": false,
                "default": {}
              },
              "ccuStage": {
                "type": "string",
                "enum": [
                  "local",
                  "development",
                  "staging",
                  "production",
                  "test"
                ]
              },
              "pipeline": {
                "type": "object",
                "properties": {
                  "repositories": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "default": [
                      "infrastructure"
                    ],
                    "description": "Repositories allow to authenticate via OIDC."
                  },
                  "assetsBucketName": {
                    "type": "string",
                    "default": "crisiscleanup-pipeline-assets",
                    "description": "Name of S3 bucket used to store pipeline assets."
                  }
                },
                "additionalProperties": false,
                "default": {}
              },
              "apiStack": {
                "type": "object",
                "properties": {
                  "eks": {
                    "type": "object",
                    "properties": {
                      "coreDnsVersion": {
                        "type": "string",
                        "default": "v1.10.1-eksbuild.2",
                        "description": "CoreDNS version."
                      },
                      "kubeProxyVersion": {
                        "type": "string",
                        "default": "v1.27.3-eksbuild.2",
                        "description": "Kube-proxy version."
                      },
                      "vpcCniVersion": {
                        "type": "string",
                        "default": "v1.13.3-eksbuild.1",
                        "description": "VPC CNI driver version."
                      },
                      "ebsCsiVersion": {
                        "type": "string",
                        "default": "v1.21.0-eksbuild.1",
                        "description": "EBS CSI driver version."
                      },
                      "defaultSecretsEncryption": {
                        "type": "boolean",
                        "default": true,
                        "description": "Enable default secrets encryption for k8s secrets."
                      },
                      "k8s": {
                        "type": "object",
                        "properties": {
                          "version": {
                            "type": "string",
                            "default": "1.27",
                            "description": "Kubernetes version."
                          }
                        },
                        "additionalProperties": false,
                        "default": {}
                      },
                      "platformArns": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "ARNs to add to platform team.",
                        "default": []
                      },
                      "instanceTypes": {
                        "anyOf": [
                          {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null,
                        "description": "List of instance families for karpenter to provision."
                      }
                    },
                    "additionalProperties": false,
                    "default": {},
                    "description": "EKS configuration."
                  },
                  "database": {
                    "type": "object",
                    "properties": {
                      "username": {
                        "type": "string"
                      },
                      "databaseName": {
                        "anyOf": [
                          {
                            "anyOf": [
                              {
                                "not": {}
                              },
                              {
                                "type": "string"
                              }
                            ]
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "default": null
                      },
                      "snapshotIdentifier": {
                        "type": "string",
                        "description": "Snapshot identifier to restore from."
                      },
                      "engineVersion": {
                        "type": "string",
                        "default": "15.3",
                        "description": "Aurora Compatible Postgres version."
                      },
                      "ioOptimized": {
                        "type": "boolean",
                        "default": false,
                        "description": "Enable Aurora IO optimized storage."
                      },
                      "minAcu": {
                        "type": "number",
                        "default": 0.5,
                        "description": "Minimum Aurora capacity unit."
                      },
                      "maxAcu": {
                        "type": "number",
                        "default": 1.5,
                        "description": "Maximum Aurora capacity unit."
                      },
                      "isolated": {
                        "type": "boolean",
                        "description": "Place database in an isolated subnet."
                      },
                      "numReplicas": {
                        "type": "number",
                        "default": 0,
                        "description": "Number of read replicas."
                      },
                      "numReplicasScaledWithWriter": {
                        "type": "number",
                        "default": 0,
                        "description": "Number of read replicas scaled with writer."
                      },
                      "performanceInsights": {
                        "type": "boolean",
                        "default": false,
                        "description": "Enable performance insights."
                      },
                      "performanceInsightsRetention": {
                        "type": "number",
                        "default": 7,
                        "description": "Number of days to retain performance insights."
                      },
                      "cloudwatchLogsRetentionDays": {
                        "type": "number",
                        "default": 30
                      },
                      "deletionProtection": {
                        "type": "boolean",
                        "default": false
                      },
                      "backupRetentionDays": {
                        "type": "number",
                        "default": 1
                      },
                      "bastionAllowList": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "default": []
                      }
                    },
                    "required": [
                      "snapshotIdentifier"
                    ],
                    "additionalProperties": false,
                    "default": {
                      "snapshotIdentifier": ""
                    }
                  },
                  "network": {
                    "type": "object",
                    "properties": {
                      "maxAzs": {
                        "type": "number",
                        "default": 2,
                        "description": "Maximum availability zones."
                      },
                      "natGateways": {
                        "type": "number",
                        "default": 1,
                        "description": "Number of NAT gateways."
                      },
                      "cidr": {
                        "type": "string",
                        "description": "CIDR for VPC."
                      },
                      "createIsolatedSubnet": {
                        "type": "boolean",
                        "default": false,
                        "description": "Create isolated /28 subnet."
                      }
                    },
                    "additionalProperties": false,
                    "default": {}
                  },
                  "cache": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean",
                        "description": "Whether to create managed elasticache instance.",
                        "default": false
                      },
                      "nodeType": {
                        "type": "string",
                        "description": "ElastiCache Node Type",
                        "default": "cache.m7g.large"
                      },
                      "engineVersion": {
                        "type": "string",
                        "description": "Redis Engine Version",
                        "default": "7.0"
                      },
                      "nodes": {
                        "type": "number",
                        "description": "Number of nodes to create.",
                        "default": 1
                      },
                      "replicas": {
                        "type": "number",
                        "description": "Number of replicas to create.",
                        "default": 1
                      },
                      "clusterMode": {
                        "type": "boolean",
                        "description": "Enable redis cluster mode.",
                        "default": false
                      },
                      "memoryAutoscalingTarget": {
                        "anyOf": [
                          {
                            "anyOf": [
                              {
                                "not": {}
                              },
                              {
                                "type": "number",
                                "minimum": 10,
                                "maximum": 100
                              }
                            ]
                          },
                          {
                            "type": "null"
                          }
                        ],
                        "description": "Configure autoscaling target for cluster.",
                        "default": null
                      }
                    },
                    "additionalProperties": false,
                    "default": {}
                  },
                  "arc": {
                    "type": "object",
                    "properties": {
                      "github": {
                        "type": "object",
                        "properties": {
                          "appId": {
                            "type": "string"
                          },
                          "appInstallationId": {
                            "type": "string"
                          },
                          "appPrivateKey": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "appId",
                          "appInstallationId",
                          "appPrivateKey"
                        ],
                        "additionalProperties": false,
                        "description": "Github App Credentials",
                        "default": {
                          "appId": "",
                          "appInstallationId": "",
                          "appPrivateKey": ""
                        }
                      },
                      "minRunners": {
                        "type": [
                          "number",
                          "null"
                        ],
                        "default": null,
                        "description": "Minimum allowed runners"
                      },
                      "maxRunners": {
                        "type": [
                          "number",
                          "null"
                        ],
                        "default": null,
                        "description": "Maximum allowed runners"
                      }
                    },
                    "additionalProperties": false,
                    "default": {}
                  },
                  "codeStarConnectionArn": {
                    "type": "string"
                  },
                  "kubecostToken": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "chart": {
                "type": "object",
                "properties": {
                  "namespace": {
                    "type": "string",
                    "minLength": 1,
                    "default": "local",
                    "description": "Target k8s namespace name."
                  },
                  "domainName": {
                    "type": "string",
                    "minLength": 1,
                    "default": "local.crisiscleanup.io"
                  },
                  "apiImage": {
                    "type": "object",
                    "properties": {
                      "repository": {
                        "type": "string"
                      },
                      "tag": {
                        "type": "string",
                        "default": "latest"
                      },
                      "pullPolicy": {
                        "type": "string",
                        "enum": [
                          "Always",
                          "Never",
                          "IfNotPresent"
                        ]
                      }
                    },
                    "required": [
                      "repository",
                      "pullPolicy"
                    ],
                    "additionalProperties": false,
                    "description": "Default image to use for api components.",
                    "default": {
                      "repository": "crisiscleanup-api",
                      "tag": "latest",
                      "pullPolicy": "IfNotPresent"
                    }
                  },
                  "webImage": {
                    "type": "object",
                    "properties": {
                      "repository": {
                        "type": "string"
                      },
                      "tag": {
                        "type": "string",
                        "default": "latest"
                      },
                      "pullPolicy": {
                        "type": "string",
                        "enum": [
                          "Always",
                          "Never",
                          "IfNotPresent"
                        ]
                      }
                    },
                    "required": [
                      "repository",
                      "pullPolicy"
                    ],
                    "additionalProperties": false,
                    "description": "Default image to use for web components.",
                    "default": {
                      "repository": "crisiscleanup-web",
                      "tag": "latest",
                      "pullPolicy": "IfNotPresent"
                    }
                  },
                  "ingressAnnotations": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "string"
                    },
                    "description": "Annotations to add to ingress resource.",
                    "default": {
                      "alb.ingress.kubernetes.io/listen-ports": "[{\"HTTP\": 80}, {\"HTTPS\":443}]",
                      "alb.ingress.kubernetes.io/ssl-redirect": "443",
                      "alb.ingress.kubernetes.io/scheme": "internet-facing",
                      "alb.ingress.kubernetes.io/target-type": "ip",
                      "alb.ingress.kubernetes.io/target-group-attributes": "load_balancing.algorithm.type=least_outstanding_requests",
                      "alb.ingress.kubernetes.io/healthcheck-path": "/health",
                      "alb.ingress.kubernetes.io/load-balancer-attributes": "idle_timeout.timeout_seconds=120"
                    }
                  },
                  "web": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "image": {
                            "type": "object",
                            "properties": {
                              "repository": {
                                "type": "string"
                              },
                              "tag": {
                                "type": "string",
                                "default": "latest"
                              },
                              "pullPolicy": {
                                "type": "string",
                                "enum": [
                                  "Always",
                                  "Never",
                                  "IfNotPresent"
                                ]
                              }
                            },
                            "required": [
                              "repository",
                              "pullPolicy"
                            ],
                            "additionalProperties": false,
                            "description": "Container Image Configuration"
                          },
                          "scaling": {
                            "type": "object",
                            "properties": {
                              "minReplicas": {
                                "type": "number"
                              },
                              "maxReplicas": {
                                "type": "number",
                                "default": 2,
                                "description": "Maximum number of replicas to scale up too."
                              },
                              "cpuUtilPercent": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 100,
                                "default": 70,
                                "description": "Target average cpu utilization percentage."
                              },
                              "memUtilPercent": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 100,
                                "default": 85,
                                "description": "Target average memory utilization percentage."
                              }
                            },
                            "additionalProperties": true,
                            "description": "Horizontal Autoscaling Parameters"
                          }
                        },
                        "required": [
                          "scaling"
                        ],
                        "additionalProperties": true
                      },
                      {
                        "type": "object",
                        "properties": {
                          "image": {
                            "type": "object",
                            "properties": {
                              "repository": {
                                "type": "string"
                              },
                              "tag": {
                                "type": "string",
                                "default": "latest"
                              },
                              "pullPolicy": {
                                "type": "string",
                                "enum": [
                                  "Always",
                                  "Never",
                                  "IfNotPresent"
                                ]
                              }
                            },
                            "required": [
                              "repository",
                              "pullPolicy"
                            ],
                            "additionalProperties": false,
                            "description": "Container Image Configuration"
                          },
                          "replicaCount": {
                            "type": "number",
                            "minimum": 0,
                            "description": "Static number of replicas to create."
                          }
                        },
                        "required": [
                          "replicaCount"
                        ],
                        "additionalProperties": true
                      }
                    ],
                    "description": "Frontend web component.",
                    "default": {
                      "replicaCount": 2
                    }
                  },
                  "wsgi": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "image": {
                            "type": "object",
                            "properties": {
                              "repository": {
                                "type": "string"
                              },
                              "tag": {
                                "type": "string",
                                "default": "latest"
                              },
                              "pullPolicy": {
                                "type": "string",
                                "enum": [
                                  "Always",
                                  "Never",
                                  "IfNotPresent"
                                ]
                              }
                            },
                            "required": [
                              "repository",
                              "pullPolicy"
                            ],
                            "additionalProperties": false,
                            "description": "Container Image Configuration"
                          },
                          "scaling": {
                            "type": "object",
                            "properties": {
                              "minReplicas": {
                                "type": "number"
                              },
                              "maxReplicas": {
                                "type": "number",
                                "default": 2,
                                "description": "Maximum number of replicas to scale up too."
                              },
                              "cpuUtilPercent": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 100,
                                "default": 70,
                                "description": "Target average cpu utilization percentage."
                              },
                              "memUtilPercent": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 100,
                                "default": 85,
                                "description": "Target average memory utilization percentage."
                              }
                            },
                            "additionalProperties": true,
                            "description": "Horizontal Autoscaling Parameters"
                          }
                        },
                        "required": [
                          "scaling"
                        ],
                        "additionalProperties": true
                      },
                      {
                        "type": "object",
                        "properties": {
                          "image": {
                            "type": "object",
                            "properties": {
                              "repository": {
                                "type": "string"
                              },
                              "tag": {
                                "type": "string",
                                "default": "latest"
                              },
                              "pullPolicy": {
                                "type": "string",
                                "enum": [
                                  "Always",
                                  "Never",
                                  "IfNotPresent"
                                ]
                              }
                            },
                            "required": [
                              "repository",
                              "pullPolicy"
                            ],
                            "additionalProperties": false,
                            "description": "Container Image Configuration"
                          },
                          "replicaCount": {
                            "type": "number",
                            "minimum": 0,
                            "description": "Static number of replicas to create."
                          }
                        },
                        "required": [
                          "replicaCount"
                        ],
                        "additionalProperties": true
                      }
                    ],
                    "description": "Django Api WSGI component.",
                    "default": {
                      "scaling": {
                        "minReplicas": 1,
                        "maxReplicas": 3
                      }
                    }
                  },
                  "asgi": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "image": {
                            "type": "object",
                            "properties": {
                              "repository": {
                                "type": "string"
                              },
                              "tag": {
                                "type": "string",
                                "default": "latest"
                              },
                              "pullPolicy": {
                                "type": "string",
                                "enum": [
                                  "Always",
                                  "Never",
                                  "IfNotPresent"
                                ]
                              }
                            },
                            "required": [
                              "repository",
                              "pullPolicy"
                            ],
                            "additionalProperties": false,
                            "description": "Container Image Configuration"
                          },
                          "scaling": {
                            "type": "object",
                            "properties": {
                              "minReplicas": {
                                "type": "number"
                              },
                              "maxReplicas": {
                                "type": "number",
                                "default": 2,
                                "description": "Maximum number of replicas to scale up too."
                              },
                              "cpuUtilPercent": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 100,
                                "default": 70,
                                "description": "Target average cpu utilization percentage."
                              },
                              "memUtilPercent": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 100,
                                "default": 85,
                                "description": "Target average memory utilization percentage."
                              }
                            },
                            "additionalProperties": true,
                            "description": "Horizontal Autoscaling Parameters"
                          }
                        },
                        "required": [
                          "scaling"
                        ],
                        "additionalProperties": true
                      },
                      {
                        "type": "object",
                        "properties": {
                          "image": {
                            "type": "object",
                            "properties": {
                              "repository": {
                                "type": "string"
                              },
                              "tag": {
                                "type": "string",
                                "default": "latest"
                              },
                              "pullPolicy": {
                                "type": "string",
                                "enum": [
                                  "Always",
                                  "Never",
                                  "IfNotPresent"
                                ]
                              }
                            },
                            "required": [
                              "repository",
                              "pullPolicy"
                            ],
                            "additionalProperties": false,
                            "description": "Container Image Configuration"
                          },
                          "replicaCount": {
                            "type": "number",
                            "minimum": 0,
                            "description": "Static number of replicas to create."
                          }
                        },
                        "required": [
                          "replicaCount"
                        ],
                        "additionalProperties": true
                      }
                    ],
                    "description": "Django Api ASGI component.",
                    "default": {
                      "scaling": {
                        "minReplicas": 1,
                        "maxReplicas": 2
                      }
                    }
                  },
                  "celeryBeat": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "image": {
                            "type": "object",
                            "properties": {
                              "repository": {
                                "type": "string"
                              },
                              "tag": {
                                "type": "string",
                                "default": "latest"
                              },
                              "pullPolicy": {
                                "type": "string",
                                "enum": [
                                  "Always",
                                  "Never",
                                  "IfNotPresent"
                                ]
                              }
                            },
                            "required": [
                              "repository",
                              "pullPolicy"
                            ],
                            "additionalProperties": false,
                            "description": "Container Image Configuration"
                          },
                          "scaling": {
                            "type": "object",
                            "properties": {
                              "minReplicas": {
                                "type": "number"
                              },
                              "maxReplicas": {
                                "type": "number",
                                "default": 2,
                                "description": "Maximum number of replicas to scale up too."
                              },
                              "cpuUtilPercent": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 100,
                                "default": 70,
                                "description": "Target average cpu utilization percentage."
                              },
                              "memUtilPercent": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 100,
                                "default": 85,
                                "description": "Target average memory utilization percentage."
                              }
                            },
                            "additionalProperties": true,
                            "description": "Horizontal Autoscaling Parameters"
                          }
                        },
                        "required": [
                          "scaling"
                        ],
                        "additionalProperties": true
                      },
                      {
                        "type": "object",
                        "properties": {
                          "image": {
                            "type": "object",
                            "properties": {
                              "repository": {
                                "type": "string"
                              },
                              "tag": {
                                "type": "string",
                                "default": "latest"
                              },
                              "pullPolicy": {
                                "type": "string",
                                "enum": [
                                  "Always",
                                  "Never",
                                  "IfNotPresent"
                                ]
                              }
                            },
                            "required": [
                              "repository",
                              "pullPolicy"
                            ],
                            "additionalProperties": false,
                            "description": "Container Image Configuration"
                          },
                          "replicaCount": {
                            "type": "number",
                            "minimum": 0,
                            "description": "Static number of replicas to create."
                          }
                        },
                        "required": [
                          "replicaCount"
                        ],
                        "additionalProperties": true
                      }
                    ],
                    "description": "Celery Beat component.",
                    "default": {
                      "replicaCount": 1
                    }
                  },
                  "celery": {
                    "type": "object",
                    "additionalProperties": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "image": {
                              "type": "object",
                              "properties": {
                                "repository": {
                                  "type": "string"
                                },
                                "tag": {
                                  "type": "string",
                                  "default": "latest"
                                },
                                "pullPolicy": {
                                  "type": "string",
                                  "enum": [
                                    "Always",
                                    "Never",
                                    "IfNotPresent"
                                  ]
                                }
                              },
                              "required": [
                                "repository",
                                "pullPolicy"
                              ],
                              "additionalProperties": false,
                              "description": "Container Image Configuration"
                            },
                            "queues": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "minItems": 1
                            },
                            "scaling": {
                              "type": "object",
                              "properties": {
                                "minReplicas": {
                                  "type": "number"
                                },
                                "maxReplicas": {
                                  "type": "number",
                                  "default": 2,
                                  "description": "Maximum number of replicas to scale up too."
                                },
                                "cpuUtilPercent": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100,
                                  "default": 70,
                                  "description": "Target average cpu utilization percentage."
                                },
                                "memUtilPercent": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100,
                                  "default": 85,
                                  "description": "Target average memory utilization percentage."
                                }
                              },
                              "additionalProperties": true,
                              "description": "Horizontal Autoscaling Parameters"
                            }
                          },
                          "required": [
                            "queues",
                            "scaling"
                          ],
                          "additionalProperties": true
                        },
                        {
                          "type": "object",
                          "properties": {
                            "image": {
                              "type": "object",
                              "properties": {
                                "repository": {
                                  "type": "string"
                                },
                                "tag": {
                                  "type": "string",
                                  "default": "latest"
                                },
                                "pullPolicy": {
                                  "type": "string",
                                  "enum": [
                                    "Always",
                                    "Never",
                                    "IfNotPresent"
                                  ]
                                }
                              },
                              "required": [
                                "repository",
                                "pullPolicy"
                              ],
                              "additionalProperties": false,
                              "description": "Container Image Configuration"
                            },
                            "queues": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "minItems": 1
                            },
                            "replicaCount": {
                              "type": "number",
                              "minimum": 0,
                              "description": "Static number of replicas to create."
                            }
                          },
                          "required": [
                            "queues",
                            "replicaCount"
                          ],
                          "additionalProperties": true
                        }
                      ]
                    },
                    "propertyNames": {
                      "minLength": 1
                    },
                    "description": "Celery worker components.",
                    "default": {
                      "celery": {
                        "queues": [
                          "celery"
                        ],
                        "scaling": {
                          "minReplicas": 1,
                          "maxReplicas": 2
                        }
                      },
                      "signal": {
                        "queues": [
                          "signal",
                          "phone",
                          "metrics"
                        ],
                        "scaling": {
                          "minReplicas": 1,
                          "maxReplicas": 2
                        }
                      }
                    }
                  },
                  "adminWebsocket": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "image": {
                            "type": "object",
                            "properties": {
                              "repository": {
                                "type": "string"
                              },
                              "tag": {
                                "type": "string",
                                "default": "latest"
                              },
                              "pullPolicy": {
                                "type": "string",
                                "enum": [
                                  "Always",
                                  "Never",
                                  "IfNotPresent"
                                ]
                              }
                            },
                            "required": [
                              "repository",
                              "pullPolicy"
                            ],
                            "additionalProperties": false,
                            "description": "Container Image Configuration"
                          },
                          "scaling": {
                            "type": "object",
                            "properties": {
                              "minReplicas": {
                                "type": "number"
                              },
                              "maxReplicas": {
                                "type": "number",
                                "default": 2,
                                "description": "Maximum number of replicas to scale up too."
                              },
                              "cpuUtilPercent": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 100,
                                "default": 70,
                                "description": "Target average cpu utilization percentage."
                              },
                              "memUtilPercent": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 100,
                                "default": 85,
                                "description": "Target average memory utilization percentage."
                              }
                            },
                            "additionalProperties": true,
                            "description": "Horizontal Autoscaling Parameters"
                          }
                        },
                        "required": [
                          "scaling"
                        ],
                        "additionalProperties": true
                      },
                      {
                        "type": "object",
                        "properties": {
                          "image": {
                            "type": "object",
                            "properties": {
                              "repository": {
                                "type": "string"
                              },
                              "tag": {
                                "type": "string",
                                "default": "latest"
                              },
                              "pullPolicy": {
                                "type": "string",
                                "enum": [
                                  "Always",
                                  "Never",
                                  "IfNotPresent"
                                ]
                              }
                            },
                            "required": [
                              "repository",
                              "pullPolicy"
                            ],
                            "additionalProperties": false,
                            "description": "Container Image Configuration"
                          },
                          "replicaCount": {
                            "type": "number",
                            "minimum": 0,
                            "description": "Static number of replicas to create."
                          }
                        },
                        "required": [
                          "replicaCount"
                        ],
                        "additionalProperties": true
                      }
                    ],
                    "description": "Connect Admin Websocket component",
                    "default": {
                      "replicaCount": 1
                    }
                  }
                },
                "additionalProperties": false
              }
            },
            "required": [
              "ccuStage",
              "apiStack",
              "chart"
            ],
            "additionalProperties": true
          },
          "propertyNames": {
            "enum": [
              "local",
              "development",
              "staging",
              "production",
              "test"
            ]
          }
        }
      },
      "additionalProperties": true
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}